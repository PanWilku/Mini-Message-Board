<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/output.css" />
  </head>
  <body class="flex w-full h-screen bg-custom-background">
    <div class="flex w-full h-full">
    </div>
    </div>
    <div class="flex flex-col justify-center items-center
     w-full h-full">
     <div class="flex text-5xl p-6">TOP Message Board</div>
      <div class="flex flex-col border-4 border-black
      h-3/4 rounded-2xl w-full overflow-auto pt-10 pb-10 bg-white/20
      scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar scrollbar-thumb-black scrollbar-track-white/20">
          <div class="flex flex-col items-center w-full gap-8">
            
            <% for (let message of messages) { %>

              <div class="flex flex-col justify-center items-center
              border-2 border-white w-4/5 p-4 rounded-2xl
              text-justify">
                <div class="flex w-full justify-end">
                  <p class="text-gray-600 text-s">
                    <span>
                      <% const date = new Date(message.createdAt); %>
                      <% const hours = date.getHours().toString().padStart(2, "0") %>
                      <% const minutes = date.getMinutes().toString().padStart(2, "0") %>
                    </span>
                    <%= hours %>:<%= minutes %>
                    <%= date.toLocaleString("en-US", { month: "short" }) %>
                    <%= date.getDate() %> 
                    <%= message.name %>
                  </p>
                </div>
                <div class="flex w-full text-xl pt-4">
                  <%= message.message %>
                </div>

              </div>
            <% } %>
          </div>
      </div>
      </div>
      <div class="flex w-full h-full justify-center items-center">
        <button onclick="window.location.href='/new'"
        class="flex p-4 h-fit bg-black text-white hover:bg-gray-800 rounded-2xl">Add a message</button>
      </div>

  </body>
</html>
